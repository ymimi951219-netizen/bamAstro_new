---
/**
 * RelatedPosts Component
 * SEO 내부 링크 강화를 위한 관련 콘텐츠 추천 컴포넌트
 * Pillar-Cluster 전략 구현
 */

interface RelatedItem {
  title: string;
  href: string;
  description?: string;
  category?: string;
}

interface Props {
  items: RelatedItem[];
  title?: string;
  accentColor?: 'amber' | 'purple' | 'pink' | 'emerald' | 'blue' | 'rose';
}

const {
  items,
  title = '관련 가이드',
  accentColor = 'amber'
} = Astro.props;

const colorClasses = {
  amber: {
    border: 'hover:border-amber-500/30',
    text: 'text-amber-500',
    bg: 'bg-amber-500/10',
    gradient: 'from-amber-200 to-amber-500'
  },
  purple: {
    border: 'hover:border-purple-500/30',
    text: 'text-purple-500',
    bg: 'bg-purple-500/10',
    gradient: 'from-purple-200 to-purple-500'
  },
  pink: {
    border: 'hover:border-pink-500/30',
    text: 'text-pink-500',
    bg: 'bg-pink-500/10',
    gradient: 'from-pink-200 to-pink-500'
  },
  emerald: {
    border: 'hover:border-emerald-500/30',
    text: 'text-emerald-500',
    bg: 'bg-emerald-500/10',
    gradient: 'from-emerald-200 to-emerald-500'
  },
  blue: {
    border: 'hover:border-blue-500/30',
    text: 'text-blue-500',
    bg: 'bg-blue-500/10',
    gradient: 'from-blue-200 to-blue-500'
  },
  rose: {
    border: 'hover:border-rose-500/30',
    text: 'text-rose-500',
    bg: 'bg-rose-500/10',
    gradient: 'from-rose-200 to-rose-500'
  }
};

const colors = colorClasses[accentColor];
---

{items.length > 0 && (
  <section class="py-12 mt-8 border-t border-slate-800">
    <h2 class={`text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r ${colors.gradient} mb-8`}>
      {title}
    </h2>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
      {items.map((item) => (
        <a
          href={item.href}
          class={`group block p-5 bg-slate-900/50 rounded-xl border border-slate-800 ${colors.border} transition-all duration-300 hover:bg-slate-900/80`}
        >
          {item.category && (
            <span class={`text-xs font-semibold ${colors.text} ${colors.bg} px-2 py-1 rounded mb-3 inline-block`}>
              {item.category}
            </span>
          )}
          <h3 class="text-lg font-bold text-white group-hover:text-slate-200 transition-colors mb-2">
            {item.title}
          </h3>
          {item.description && (
            <p class="text-sm text-slate-400 line-clamp-2">
              {item.description}
            </p>
          )}
          <span class={`text-sm ${colors.text} mt-3 inline-flex items-center gap-1 group-hover:gap-2 transition-all`}>
            자세히 보기
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </span>
        </a>
      ))}
    </div>
  </section>
)}
